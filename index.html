<html>
<style>
body {
 padding: 1000px 0 1000px;
}

#target {
  width: 100px;
  height: 100px;
  background: red;
}
</style>
<body>
  <div id="target">
    target
  </div>
<script>
window.addEventListener("DOMContentLoaded", () => {
  // インスタンス作成。コールバック関数は監視対象となる要素が視覚的に見えたり、消えたかどうかで実行される
  const observer = new IntersectionObserver((snapshot) => {
    console.log(snapshot);
  }, {
    threshold: [0.0, 0.5, 1.0],
    rootMargin: '10px'
  });

  // 監視対象の要素を取得
  const target = document.querySelector("#target");

  // 監視対象を設定
  observer.observe(target);
});
</script>
</body>
</html>